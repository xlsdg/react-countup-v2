{"version":3,"file":"ReactCountUp.min.js","sources":["../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/isObject.js","../src/index.jsx"],"sourcesContent":["/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import React from 'react';\n// import PropTypes from 'prop-types';\n// import _ from 'lodash-es';\nimport isFunction from 'lodash-es/isFunction';\nimport CountUp from 'countup.js';\n\nexport default class ReactCountUp extends React.Component {\n  // static propTypes = {\n  //   className: PropTypes.string,\n  //   delay: PropTypes.number,\n  //   startVal: PropTypes.number,\n  //   endVal: PropTypes.number,\n  //   decimals: PropTypes.number,\n  //   duration: PropTypes.number,\n  //   options: PropTypes.object,\n  //   onReady: PropTypes.func,\n  //   onComplete: PropTypes.func,\n  //   onUpdate: PropTypes.func,\n  //   onError: PropTypes.func,\n  // };\n\n  static defaultProps = {\n    className: null,\n    delay: 0,\n    startVal: 0,\n    endVal: 100,\n    decimals: 0,\n    duration: 2,\n    options: {\n      useEasing: true,\n      useGrouping: true,\n      separator: ',',\n      decimal: '.',\n      easingFn: null,\n      formattingFn: null,\n      prefix: '',\n      suffix: '',\n      numerals: [],\n    },\n    onReady: () => {},\n    onComplete: () => {},\n    onUpdate: () => {},\n    onError: () => {},\n  };\n\n  // static getDerivedStateFromProps(nextProps, prevState) {\n  //   return null;\n  // }\n\n  constructor(props) {\n    super(props);\n\n    this.dom = null;\n    this.state = {\n      instance: null,\n    };\n  }\n\n  componentDidMount() {\n    const that = this;\n    that.init();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const that = this;\n    // console.log('shouldComponentUpdate', that.props, nextProps, that.state, nextState);\n    const { className, startVal, endVal, decimals, duration, options } = that.props;\n\n    const isUpdate =\n      className !== nextProps.className ||\n      startVal !== nextProps.startVal ||\n      endVal !== nextProps.endVal ||\n      decimals !== nextProps.decimals ||\n      duration !== nextProps.duration ||\n      options !== nextProps.options;\n\n    return isUpdate;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const that = this;\n    that.update(prevProps, prevState);\n  }\n\n  componentWillUnmount() {\n    const that = this;\n    that.unInit();\n  }\n\n  init = (forceUpdate = false) => {\n    const that = this;\n    const { delay, startVal, endVal, decimals, duration, options, onReady, onError } = that.props;\n\n    if (!that.dom) {\n      return;\n    }\n\n    const instance = new CountUp(that.dom, startVal, endVal, decimals, duration, options);\n\n    if (instance.error && isFunction(onError)) {\n      return onError(instance.error);\n    }\n\n    that.setState({\n      instance,\n    });\n\n    if (!forceUpdate && isFunction(onReady)) {\n      onReady(instance, CountUp);\n    }\n\n    setTimeout(() => instance.start(), delay);\n  };\n\n  update = (prevProps, prevState) => {\n    const that = this;\n    const { instance } = that.state;\n    const { startVal, endVal, decimals, duration, options, onUpdate } = that.props;\n\n    const isUpdate =\n      startVal !== prevProps.startVal ||\n      decimals !== prevProps.decimals ||\n      duration !== prevProps.duration ||\n      options !== prevProps.options;\n\n    if (isUpdate) {\n      that.init(true);\n    } else if (endVal !== prevProps.endVal) {\n      that.reset();\n      that.updateValue(endVal);\n    }\n\n    if (isFunction(onUpdate)) {\n      onUpdate(instance, CountUp);\n    }\n  };\n\n  unInit = () => {\n    const that = this;\n\n    that.setState({\n      instance: null,\n    });\n  };\n\n  printValue = value => {\n    const that = this;\n    const { instance } = that.state;\n\n    if (!instance) {\n      return;\n    }\n\n    return instance.printValue(value);\n  };\n\n  start = callback => {\n    const that = this;\n    const { onComplete } = that.props;\n    const { instance } = that.state;\n\n    if (!instance) {\n      return;\n    }\n\n    return instance.start(() => {\n      if (isFunction(callback)) {\n        callback(instance, CountUp);\n      }\n\n      if (isFunction(onComplete)) {\n        onComplete(instance, CountUp);\n      }\n    });\n  };\n\n  pauseResume = () => {\n    const that = this;\n    const { instance } = that.state;\n\n    if (!instance) {\n      return;\n    }\n\n    return instance.pauseResume();\n  };\n\n  reset = () => {\n    const that = this;\n    const { instance } = that.state;\n\n    if (!instance) {\n      return;\n    }\n\n    return instance.reset();\n  };\n\n  updateValue = newEndVal => {\n    const that = this;\n    const { instance } = that.state;\n\n    if (!instance) {\n      return;\n    }\n\n    return instance.update(newEndVal);\n  };\n\n  render() {\n    const that = this;\n    const { className } = that.props;\n\n    return (\n      <span\n        className={className}\n        ref={e => {\n          that.dom = e;\n        }}\n      />\n    );\n  }\n}\n"],"names":["freeGlobal","global","Object","freeSelf","self","Symbol","Function","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","nullTag","undefinedTag","baseGetTag","value","isOwn","call","tag","e","result","getRawTag","objectToString","asyncTag","funcTag","genTag","proxyTag","isFunction","type","isObject","ReactCountUp","props","forceUpdate","that","delay","startVal","endVal","decimals","duration","options","onReady","onError","dom","instance","CountUp","error","setState","setTimeout","start","prevProps","prevState","state","onUpdate","init","reset","updateValue","printValue","callback","onComplete","pauseResume","newEndVal","update","React","Component","this","nextProps","nextState","className","snapshot","unInit","ref","useEasing","useGrouping","separator","decimal","easingFn","formattingFn","prefix","suffix","numerals"],"mappings":"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"}